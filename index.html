<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='https://css.gg/css' rel='stylesheet'>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="reset.css">
    <title>Gerador De Senhas</title>
</head>

<body>
    <main>

        <section class="text">
            <h1 class="title">Gerador De Senha</h1>
            <p class="subtitle">Utilize o Gerador de senhas para criar uma senha forte e segura.</p>
        </section>

        <section class="box">
            <div class="senha">
                <div class="senhaText">
                    <input type="text" name="senha" id="senha">
                </div>
                <div class="botoes">
                    <button id="copiarSenha"><img src="Assets/copy.svg" width="40"></button>
                    <button id="refresh"><img src="Assets/redo.svg" width="40"></button>
                </div>
            </div>
            <div class="barraseguranca">
                <div id="segurancabarra" class="barra deboa" style="width: 90%"></div>
            </div>
        </section>

        <section class="box customize">
            <h3 class="title">Personalizar</h3>
            <div class="actions">
                <div class="senha-tamanho">
                    <p>Tamanho <span id="senha-tamanho">16</span></p>
                

                <input type="range" name="senhaComp" id="senhaComp" class="slider" value="16" min="4" max="64" />
            </div>
            <div class="checkbox">
                <label class="checkbox-container">
                    <span class="text">Maiúsculas</span>
                    <input type="checkbox" id="maiusculascheck" checked>
                    <span class="checkmark"></span>
                </label>
                <label class="checkbox-container">
                    <span class="text">Números</span>
                    <input type="checkbox" id="numeroscheck" checked>
                    <span class="checkmark"></span>
                </label>
                <label class="checkbox-container">
                    <span class="text">Carácteres</span>
                    <input type="checkbox" id="caracterescheck" checked>
                    <span class="checkmark"></span>
                </label>
            </div>
        </div>
        </section>

    </main>
    <script>
        const inputEl = document.querySelector("#senha")
        const maiusculasCheckEl = document.querySelector("#maiusculascheck")
        const numerosCheckEl = document.querySelector("#numeroscheck")
        const caracteresCheckEl = document.querySelector("#caracterescheck")
        const barraSegurancaEl = document.querySelector("#segurancabarra")

        let senhaComp = 16

        function GeradorDeSenha() {

            let chars = "abcdefghijklmnopqrstuvxwyz"

            const MaiusculasChars = "ABCDEFGHIJKLMNOPQRSTUVXWYZ"

            const NumerosChars = "0123456789"

            const CaracteresChars = "!@#$%&()[]?"

            if (maiusculasCheckEl.checked) {
                chars += MaiusculasChars
            }
            if (numerosCheckEl.checked) {
                chars += NumerosChars
            }
            if (caracteresCheckEl.checked) {
                chars += CaracteresChars
            }

            let senha = ""

            for (let i = 0; i < senhaComp; i++) {
                const randomNumber = Math.floor(Math.random() * chars.length)
                senha += chars.substring(randomNumber, randomNumber + 1)
            }

            inputEl.value = senha

            SecurityQuality()
            FontSize()
        }
        
        function SecurityQuality() {

            const percent = Math.round((senhaComp / 64) * 25 + 
            (maiusculasCheckEl.checked ? 15 : 0) + 
            (numerosCheckEl.checked ? 25 : 0) +
            (caracteresCheckEl.checked ? 35 : 0)
            )

            barraSegurancaEl.style.width = `${percent}%`

            if(percent > 70) {
                barraSegurancaEl.classList.remove("critico")
                barraSegurancaEl.classList.remove("perigo")
                barraSegurancaEl.classList.add("deboa")
            } else if(percent > 30) {
                barraSegurancaEl.classList.remove("critico")
                barraSegurancaEl.classList.remove("deboa")
                barraSegurancaEl.classList.add("perigo")

            } else {

                barraSegurancaEl.classList.remove("deboa")
                barraSegurancaEl.classList.remove("perigo")
                barraSegurancaEl.classList.add("critico")
            }

            if (percent >= 100) {
                barraSegurancaEl.classList.add("completa")
            } else {
                barraSegurancaEl.classList.remove("completa")
            }
        }

        function FontSize() { 
            if(senhaComp > 52) {
                inputEl.classList.remove("font-sm")
                inputEl.classList.remove("font-xs")
                inputEl.classList.add("font-xxs")
            } else if (senhaComp > 42) {
                inputEl.classList.remove("font-sm")
                inputEl.classList.remove("font-xs")
                inputEl.classList.add("font-xxs")
            } else if (senhaComp > 32) {
                inputEl.classList.remove("font-sm")
                inputEl.classList.remove("font-xxs")
                inputEl.classList.add("font-xs")
            } else if (senhaComp > 22) {
                inputEl.classList.remove("font-xs")
                inputEl.classList.remove("font-xxs")
                inputEl.classList.add("font-sm")
            } else {
                inputEl.classList.remove("font-xxs")
                inputEl.classList.remove("font-xs")
                inputEl.classList.remove("font-sm")
            }
        }

        function copiar() {
            navigator.clipboard.writeText(inputEl.value)
        }

        const senhaCompEl = document.querySelector("#senhaComp")
        senhaCompEl.addEventListener("input", function () {
            senhaComp = senhaCompEl.value
            document.querySelector("#senha-tamanho").innerText = senhaComp
            GeradorDeSenha()
        })

        maiusculasCheckEl.addEventListener("click", GeradorDeSenha)
        numerosCheckEl.addEventListener("click", GeradorDeSenha)
        caracteresCheckEl.addEventListener("click", GeradorDeSenha)

        const refreshSenha = document.querySelector("#refresh")
        refreshSenha.addEventListener("click", function () {
            senhaComp = senhaComp
            GeradorDeSenha()
        })

        const copiarEl = document.querySelector("#copiarSenha")
        copiarEl.addEventListener("click", copiar)

        const CheckMaiusculas = document.querySelector("#maiusculas")





        GeradorDeSenha()

    </script>


</body>

</html>